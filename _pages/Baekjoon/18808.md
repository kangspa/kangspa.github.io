---
title: "스티커 붙이기"
tags:
    - 2 초
    - 512 MB
    - 63.415%
date: "2025-08-29"
---

출처 : [스티커 붙이기](https://www.acmicpc.net/problem/18808)
<details>
<summary><b>Solution</b></summary>

<details>
<summary>Python</summary>

<pre><code class='language-python'>
import sys
input = sys.stdin.readline

# 시계 방향으로 90도 회전해주기
def rotate(sticker, n, m):
    result = list([0]*n for _ in range(m))
    for i in range(n):
        for j in range(m):
            if sticker[i][j]: result[j][-(i+1)]=1
    return result

# 노트북에 스티커 붙이기
def stickOn(y, x, laptop, sticker, n, m):
    # 붙일 위치만 일단 저장
    tmp = []
    for i in range(n):
        for j in range(m):
            if ((sticker[i][j]==1) & (laptop[y+i][x+j]==0)):
                tmp.append((y+i, x+j))
            elif ((sticker[i][j]==1) & (laptop[y+i][x+j]==1)):
                return False
    # 위에서 return 안 걸렸다면, 스티커 붙이고 반환
    for y, x in tmp:
        laptop[y][x] = 1
    return laptop

# 붙이기 시도
def trySticky(laptop, N, M, sticker, n, m):
    # 회전은 총 4번
    for _ in range(4):
        # 모든 위치에서 스티커 붙이기 시도 (2단계)
        for y in range(N):
            for x in range(M):
                if ((0 <= y+n <= N) & (0 <= x+m <= M)):
                    result = stickOn(y, x, laptop, sticker, n, m)
                    if result: return result
        # 2단계 실패 시, 시계방향으로 돌려주고, 다시 2단계 반복 (3단계)
        sticker = rotate(sticker, n, m)
        # 회전하면서 스티커 가로세로가 바뀌니깐 바꿔준다.
        n, m = m, n
    # 스티커를 못 붙인다면 원래 노트북 그대로 반환
    return laptop

if __name__ == '__main__':
    N, M, K = map(int, input().split())
    laptop = [[0]*M for _ in range(N)]
    for _ in range(K):
        n, m = map(int, input().split()) # 세로, 가로
        sticker = [list(map(int, input().split())) for _ in range(n)]
        laptop = trySticky(laptop, N, M, sticker, n, m)
    
    answer = 0
    for lap in laptop:
        for l in lap:
            answer += l
    print(answer)
</code></pre>
</details>

</details>

<hr>

<div class="col-md-12">
<section class="problem-section" id="description">
<div class="headline">
<h2>문제</h2>
</div>
<div class="problem-text" id="problem_description">
<p>혜윤이는 최근에 다양한 대회를 참여하면서 노트북에 붙일 수 있는 스티커들을 많이 받았다. 스티커는 아래와 같이 사각 모눈종이 위에 인쇄되어 있으며, 스티커의 각 칸은 상하좌우로 모두 연결되어 있다. 또한 모눈종이의 크기는 스티커의 크기에 꼭 맞아서, 상하좌우에 스티커가 포함되지 않는 불필요한 행이나 열이 존재하지 않는다.</p>
<p>아래는 올바른 모눈종이의 예시이다. 주황색 칸은 스티커가 붙은 칸을, 하얀색 칸은 스티커가 붙지 않은 칸을 나타낸다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/ce5fb059-90ea-4e64-bf78-03219c3d3c1a/-/preview/"/></p>
<p>반면 아래는 올바르지 않은 모눈종이의 예시이다. 첫 번째는 윗쪽에 불필요한 행이 있고, 두 번째는 왼쪽에 불필요한 열이 있다. 그리고 세 번째는 스티커의 각 칸이 상하좌우로 모두 연결되어 있지 않다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/0c8b4fac-2c5d-40c2-8280-c5530bc97616/-/preview/"/></p>
<p>혜윤이는 자신의 노트북에 이 스티커들을 붙이기로 했다. 혜윤이의 노트북은 마침 직사각형 모양이고, 스티커가 인쇄된 모눈종이와 같은 간격으로 격자가 그려져 있다. 혜윤이는 스티커들을 먼저 받았던 것부터 차례대로 격자에 맞춰서 붙이려고 한다.</p>
<p>혜윤이가 스티커를 붙이는 방법은 다음과 같다.</p>
<ol>
<li>스티커를 회전시키지 않고 모눈종이에서 떼어낸다.</li>
<li>다른 스티커와 겹치거나 노트북을 벗어나지 않으면서 스티커를 붙일 수 있는 위치를 찾는다. 혜윤이는 노트북의 위쪽부터 스티커를 채워 나가려고 해서, 스티커를 붙일 수 있는 위치가 여러 곳 있다면 가장 위쪽의 위치를 선택한다. 가장 위쪽에 해당하는 위치도 여러 곳이 있다면 그중에서 가장 왼쪽의 위치를 선택한다.</li>
<li>선택한 위치에 스티커를 붙인다. 만약 스티커를 붙일 수 있는 위치가 전혀 없어서 스티커를 붙이지 못했다면, 스티커를 시계 방향으로 90도 회전한 뒤 2번 과정을 반복한다.</li>
<li>위의 과정을 네 번 반복해서 스티커를 0도, 90도, 180도, 270도 회전시켜 봤음에도 스티커를 붙이지 못했다면 해당 스티커를 붙이지 않고 버린다.</li>
</ol>
<p>아래의 예시를 통해 스티커를 붙이는 과정을 이해해보자. 노트북은 세로 5칸, 가로 4칸 크기이고, 혜윤이가 가지고 있는 스티커들은 아래와 같다. 왼쪽에서 오른쪽 순으로 스티커를 붙일 것이다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/f293523b-6def-453f-a1fd-665a42918b82/-/preview/"/></p>
<ol>
<li>
<p>첫 번째 스티커는 회전 없이 온전히 붙일 수 있는 공간이 아래와 같이 6곳이 있다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/a40dad81-8ed6-439e-b644-ebe7796cbb12/-/preview/"/></p>
<p>이 중에서 가장 위쪽의 위치, 가능한 가장 위쪽의 위치가 여러 개이면 그 중에서 가장 왼쪽의 위치는 첫 번째이다. 스티커를 붙인 후 노트북의 모양은 아래와 같다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/d3baa057-00b3-4f8a-861c-1ccfe0441584/-/preview/"/></p>
</li>
<li>
<p>두 번째 스티커는 회전 없이 온전히 붙일 수 있는 공간이 없다. 그러나 시계 방향으로 90도 회전한 후에는 붙일 수 있는 공간이 1개 생긴다. 해당 공간에 스티커를 붙인 후 노트북의 모양은 아래와 같다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/92a0b86c-72bb-4843-aeca-7d1b751b6f3d/-/preview/"/></p>
</li>
<li>
<p>세 번째 스티커는 스티커를 시계방향으로 0, 90, 180, 270도 회전시킨 모양에 대해 전부 확인을 해도 스티커를 붙일 수 있는 공간이 없다. 그러므로 해당 스티커를 붙이지 않고 버린다.</p>
</li>
<li>
<p>네 번째 스티커는 스티커를 시계방향으로 0, 90, 180도 회전 시킨 모양에 대해 온전히 붙일 수 있는 공간이 없다. 그러나 시계 방향으로 270도 회전한 후에는 공간이 1개 생긴다. 스티커를 붙인 후 노트북의 모양은 아래와 같다. 최종적으로 노트북의 18칸이 스티커로 채워졌다.</p>
<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/ad463bb4-f424-4fa5-92be-05b78ad5ff29/-/preview/"/></p>
</li>
</ol>
<p>혜윤이는 스티커를 다 붙인 후의 노트북의 모습이 궁금해졌다. 노트북의 크기와 스티커들이 주어졌을 때 스티커들을 차례대로 붙이고 난 후 노트북에서 몇 개의 칸이 채워졌는지 구해보자.</p>
</div>
</section>
</div>
<div class="col-md-12">
<section class="problem-section" id="input">
<div class="headline">
<h2>입력</h2>
</div>
<div class="problem-text" id="problem_input">
<p>첫째 줄에 노트북의 세로와 가로 길이를 나타내는 N(1 ≤ N ≤ 40)과 M(1 ≤ M ≤ 40), 그리고 스티커의 개수 K(1 ≤ K ≤ 100)이 한 칸의 빈칸을 사이에 두고 주어진다.</p>
<p>그 다음 줄부터는 K개의 스티커들에 대한 정보가 주어진다. 각 스티커는 아래와 같은 형식으로 주어진다.</p>
<p>먼저 i번째 스티커가 인쇄된 모눈종이의 행의 개수와 열의 개수를 나타내는 R<sub>i</sub>(1 ≤ R<sub>i</sub> ≤ 10)와 C<sub>i</sub>(1 ≤ C<sub>i</sub> ≤ 10)가 한 칸의 빈칸을 사이에 두고 주어진다.</p>
<p>다음 R<sub>i</sub>개의 줄에는 각 줄마다 모눈종이의 각 행을 나타내는 C<sub>i</sub>개의 정수가 한 개의 빈칸을 사이에 두고 주어진다. 각 칸에 들어가는 값은 0, 1이다. 0은 스티커가 붙지 않은 칸을, 1은 스티커가 붙은 칸을 의미한다.</p>
<p>문제에서 설명한 것과 같이 스티커는 모두 올바른 모눈종이에 인쇄되어 있다. 구체적으로 스티커의 각 칸은 상하좌우로 모두 연결되어 있고, 모눈종이의 크기는 스티커의 크기에 꼭 맞아서 상하좌우에 스티커에 전혀 포함되지 않는 불필요한 행이나 열이 존재하지 않는다.</p>
</div>
</section>
</div>
<div class="col-md-12">
<section class="problem-section" id="output">
<div class="headline">
<h2>출력</h2>
</div>
<div class="problem-text" id="problem_output">
<p>첫째 줄에 주어진 스티커들을 차례대로 붙였을 때 노트북에서 스티커가 붙은 칸의 수를 출력한다.</p>
</div>
</section>
</div>
<div class="col-md-12">
<section class="problem-section" id="limit" style="display:none;">
<div class="headline">
<h2>제한</h2>
</div>
<div class="problem-text" id="problem_limit">
</div>
</section>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput1">
<div class="headline">
<h2>예제 입력 1
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-1" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-1">5 4 4
3 3
1 0 1
1 1 1
1 0 1
2 5
1 1 1 1 1
0 0 0 1 0
2 3
1 1 1
1 0 1
3 3
1 0 0
1 1 1
1 0 0
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput1">
<div class="headline">
<h2>예제 출력 1
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-1" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-1">18
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput2">
<div class="headline">
<h2>예제 입력 2
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-2" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-2">1 3 3
2 3
1 0 0
1 1 1
1 1
1
3 1
1
1
1
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput2">
<div class="headline">
<h2>예제 출력 2
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-2" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-2">1
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput3">
<div class="headline">
<h2>예제 입력 3
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-3" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-3">2 3 3
2 3
1 1 1
1 0 0
2 1
1
1
2 2
1 0
1 1
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput3">
<div class="headline">
<h2>예제 출력 3
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-3" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-3">6
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput4">
<div class="headline">
<h2>예제 입력 4
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-4" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-4">4 5 4
3 3
1 0 1
1 1 1
0 1 0
2 4
1 1 1 1
0 1 0 1
1 4
1 1 1 1
4 2
1 0
1 1
0 1
0 1
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput4">
<div class="headline">
<h2>예제 출력 4
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-4" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-4">17
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput5">
<div class="headline">
<h2>예제 입력 5
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-5" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-5">2 2 3
3 1
1
1
1
2 3
1 0 1
1 1 1
2 4
1 0 1 1
1 1 1 0
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput5">
<div class="headline">
<h2>예제 출력 5
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-5" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-5">0
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput6">
<div class="headline">
<h2>예제 입력 6
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-6" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-6">6 7 5
4 6
1 0 0 1 0 1
1 1 0 1 0 1
1 1 1 1 1 1
0 0 0 1 0 0
4 3
0 1 0
1 1 1
0 1 1
1 1 0
3 6
1 1 1 1 1 1
0 0 1 0 0 0
0 0 1 0 0 0
6 6
0 0 1 1 0 0
1 1 1 1 0 1
0 0 1 1 1 1
0 0 1 1 1 1
1 1 1 0 1 1
0 1 0 0 1 0
4 4
1 1 1 1
0 0 0 1
0 0 1 1
0 0 0 1
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput6">
<div class="headline">
<h2>예제 출력 6
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-6" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-6">30
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput7">
<div class="headline">
<h2>예제 입력 7
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-7" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-7">6 8 3
4 5
0 0 1 1 1
1 1 1 0 1
0 0 1 0 1
0 0 1 0 0
5 4
0 0 1 0
1 1 1 1
1 1 0 1
1 1 0 0
1 1 0 0
5 6
0 0 1 1 1 1
1 1 1 1 0 0
1 1 1 1 1 0
0 1 0 1 0 0
0 1 0 1 0 0
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput7">
<div class="headline">
<h2>예제 출력 7
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-7" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-7">22
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<div class="row">
<div class="col-md-6">
<section id="sampleinput8">
<div class="headline">
<h2>예제 입력 8
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-input-8" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-input-8">8 6 6
3 5
0 1 0 0 0
1 1 1 1 1
0 1 0 0 1
6 3
0 0 1
0 0 1
0 0 1
1 1 1
1 0 1
1 1 1
6 3
1 1 0
1 0 0
1 1 1
1 0 1
1 0 0
1 0 0
6 6
0 0 0 0 1 0
0 0 1 0 1 0
0 0 1 0 1 0
0 1 1 1 1 0
0 1 1 0 1 1
1 1 1 0 0 0
4 5
0 0 0 0 1
1 0 0 1 1
1 1 1 1 0
1 1 0 1 0
4 3
1 1 0
1 0 0
1 1 1
1 1 1
</pre>
</section>
</div>
<div class="col-md-6">
<section id="sampleoutput8">
<div class="headline">
<h2>예제 출력 8
							<button class="btn btn-link copy-button" data-clipboard-target="#sample-output-8" style="padding: 0px;" type="button">복사</button>
</h2>
</div>
<pre class="sampledata" id="sample-output-8">29
</pre>
</section>
</div>
</div>
</div>
<div class="col-md-12">
<section class="problem-section" id="hint" style="display: none;">
<div class="headline">
<h2>힌트</h2>
</div>
<div class="problem-text" id="problem_hint">
</div>
</section>
</div>
